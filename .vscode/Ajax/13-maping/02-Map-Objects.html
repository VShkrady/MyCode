<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Mapping Objects</title>
		<style>
			footer {
				display: none;
			}
		</style>
	</head>

	<body>
		<main
			role="main"
			class="graph-container align-middle d-flex justify-content-center"
			style="height: 100%"
			id="objGraph"
		></main>
		<script id="myCode">
			var prices = [
				{
					cost: 87,
				},
				{
					cost: 67,
				},
				{
					cost: 41,
				},
				{
					cost: 18,
				},
				{
					cost: 93,
				},
			];
			var tatrgetPriceExample = { price: 87, isExpensive: true };
			var test = mapPrice({
				cost: 87,
			});
			var newPrices = prices.map(mapPrice);

			function mapPrice(aPriceObj) {
				let result = {
					price: aPriceObj.cost,
					isExpensive: aPriceObj.cost > 50,
				};
				return result;
			}

			var people = [
				{
					id: 1,
					fName: 'Barbie',
					lName: 'Ismay',
					email: 'bismay0@ezinearticles.com',
					age: 86,
				},
				{
					id: 2,
					fName: 'Winthrop',
					lName: 'Erbe',
					email: 'werbe1@reuters.com',
					age: 63,
				},
				{
					id: 3,
					fName: 'Cori',
					lName: 'MacGettigen',
					email: 'cmacgettigen2@virginia.edu',
					age: 57,
				},
				{
					id: 4,
					fName: 'Robyn',
					lName: 'Stannering',
					email: 'rstannering3@gnu.org',
					age: 68,
				},
				{
					id: 5,
					fName: 'Kile',
					lName: 'Iannini',
					email: 'kiannini4@yale.edu',
					age: 22,
				},
			];

			var target = {
				displayName: 'Barbie Ismay',
				contactInfo: 'Please email me at: bismay0@ezinearticles.com',
				isOver21: true,
			};

			var pResult = mapThisPerson({
				id: 1,
				fName: 'Barbie',
				lName: 'Ismay',
				email: 'bismay0@ezinearticles.com',
				age: 86,
			});

			var newPeople = people.map(mapThisPerson);

			function mapThisPerson(person) {
				var newPerson = {
					displayName: `${person.fName} ${person.lName}`,
					contactInfo: `Please email me at: ${person.email}`,
					isOver21: person.age > 21,
				};
				return newPerson;
			}

			var companies = [
				{
					desc: 'Ut at dolor quis odio consequat varius. Integer ac leo. Pellentesque ultrices mattis odio. Donec vitae nisi. Nam ultrices, libero non mattis pulvinar, nulla pede ullamcorper augue, a suscipit nulla elit ac nulla. Sed vel enim sit amet nunc viverra dapibus. Nulla suscipit ligula in lacus.',
					domain: 'newyorker.com',
					industry: 'Transportation',
					co: 'Muxo',
					est: '11/01/2018',
					revenue: 325504,
				},
				{
					desc: 'In eleifend quam a odio. In hac habitasse platea dictumst. Maecenas ut massa quis augue luctus tincidunt.',
					domain: 'unicef.org',
					industry: 'Technology',
					co: 'Mita',
					est: '03/30/2019',
					revenue: 658198,
				},
				{
					desc: 'Fusce lacus purus, aliquet at, feugiat non, pretium quis, lectus. Suspendisse potenti. In eleifend quam a odio. In hac habitasse platea dictumst. Maecenas ut massa quis augue luctus tincidunt. Nulla mollis molestie lorem. Quisque ut erat. Curabitur gravida nisi at nibh. In hac habitasse platea dictumst.',
					domain: 'linkedin.com',
					industry: 'n/a',
					co: 'Brainsphere',
					est: '08/27/2019',
					revenue: 763581,
				},
				{
					desc: 'Donec vitae nisi.',
					domain: 'cloudflare.com',
					industry: 'n/a',
					co: 'Roomm',
					est: '04/25/2019',
					revenue: 393149,
				},
				{
					desc: 'Suspendisse accumsan tortor quis turpis. Sed ante. Vivamus tortor. Duis mattis egestas metus. Aenean fermentum. Donec ut mauris eget massa tempor convallis. Nulla neque libero, convallis eget, eleifend luctus, ultricies eu, nibh. Quisque id justo sit amet sapien dignissim vestibulum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nulla dapibus dolor vel est. Donec odio justo, sollicitudin ut, suscipit a, feugiat et, eros.',
					domain: 'intel.com',
					industry: 'Consumer Services',
					co: 'Dazzlesphere',
					est: '05/26/2019',
					revenue: 976377,
				},
			];
			//create a target for what we want to change
			var target = {
				name: 'Dazzlesphere',
				webSite: 'intel.com',
				description: 'Suspendisse...',
				yearEstablished: new Date(),
			};

			//test this code if it's working properly
			var testCo = mapCompany({
				description: 'Suspendisse accumsan tortor...',
				domain: 'intel.com',
				industry: 'Consumer Services',
				co: 'Dazzlesphere',
				est: '05/26/2019',
				revenue: 976377,
			});

			var newCompanies = companies.map(mapCompnay);

			function mapCompany(oldCo) {
				//null check
				var description = '';
				if (oldCo.desc) {
					description = oldCo.desc;
				}
				// or you can write null check this way as well
				var description = oldCo.desc || '';
				//or use ternary operator
				var description = oldCo.desc ? oldCo.desc : '';

				var newCo = {
					name: oldCo.co,
					webSite: oldCo.domain,
					yearEstablished: new Date(oldCo.est),
					description: `${description.slice(0, 2)}...`,
				};
				return newCo;
			}
		</script>
	</body>
</html>
