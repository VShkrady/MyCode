<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Using Event Data</title>
		<style></style>
	</head>

	<body>
		<div class="page-content container">
			<form>
				<div id="colors" class="mb-5">
					<div class="example col-md-10 ml-auto mr-auto">
						<div class="row">
							<div class="col">
								<button
									type="submit"
									class="btn btn-outline-primary btn-md"
									id="cmdClone"
								>
									Clone
								</button>
							</div>
						</div>
						<div class="row" id="targetContainer">
							<div
								class="color-wrapper col-lg-3 col-md-6 col-sm-6 first primary"
							>
								<div class="color">
									<div class="swatch bg-primary"></div>
									<button type="submit" class="btn btn-outline-primary btn-md">
										Primary
									</button>
								</div>
							</div>

							<div class="color-wrapper col-lg-3 col-md-6 col-sm-6 secondary">
								<div class="color">
									<div class="swatch bg-secondary"></div>
									<button
										type="button"
										class="btn btn-outline-secondary btn-md"
									>
										secondary
									</button>
								</div>
							</div>

							<div class="color-wrapper col-lg-3 col-md-6 col-sm-6">
								<div class="color">
									<div class="swatch bg-success"></div>
									<button type="button" class="btn btn-outline-success btn-md">
										success
									</button>
								</div>
							</div>

							<div class="color-wrapper col-lg-3 col-md-6 col-sm-6">
								<div class="color">
									<div class="swatch bg-warning"></div>
									<button type="button" class="btn btn-outline-warning btn-md">
										warning
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<script id="myCode">
			function startUp() {
				console.log('start up is firing');
				$('#cmdClone').on('click', onCloneRequested);
				$('#colors .color-wrapper').on('click', onSelectItem);
			}

			function onSelectItem(e) {
				e.preventDefault();
				var thisItem = $(this);
				console.log('onSelectItem Firing', thisItem);

				var wrapper = thisItem.closest('.color-wrapper');
				wrapper.addClass('cloneTarget');
			}

			function onCloneRequested(e) {
				e.preventDefault();
				console.log('onClick Firing');

				var clone = getClone();

				addToContainer(clone);
				$('#colors .color-wrapper').removeClass('cloneTarget');
			}

			function addToContainer(newChild) {
				$('#targetContainer').append(newChild);
			}

			function getClone() {
				var htmlFromCloneTarget = $('.cloneTarget').clone();

				htmlFromCloneTarget.removeAttr('id');

				return htmlFromCloneTarget;
			}
		</script>
	</body>
</html>
